<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tune My Heart Bible Narratives Reading Plan</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#4FA6BF">

<style>
:root {
  --primary: #4FA6BF;
  --primary-dark: #2F7F95;
  --bg: #F5F9FA;
  --card: #FFFFFF;
  --border: #D8E6EC;
  --text: #1f2d33;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Georgia", serif;
  background: var(--bg);
  color: var(--text);
}

header {
  background: var(--primary);
  color: white;
  text-align: center;
  padding: 1.25rem 1rem 1rem;
}

.logo {
  width: 64px;
  height: auto;
  margin-bottom: 0.5rem;
  opacity: 0.9;
}

.container {
  padding: 1rem;
}

.controls {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

button {
  padding: 0.5rem 0.9rem;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: var(--primary);
  color: white;
  font-weight: 500;
}

button.secondary {
  background: var(--primary-dark);
}

.progress-wrap {
  background: var(--border);
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 1rem;
}

.progress-bar {
  height: 10px;
  background: var(--primary-dark);
  width: 0%;
  transition: width 0.3s ease;
}

.week {
  background: var(--card);
  margin-bottom: 1rem;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  overflow: hidden;
}

.week summary {
  padding: 1rem;
  font-weight: 600;
  cursor: pointer;
  background: #EAF3F6;
}

.section {
  padding: 0.75rem 1rem;
  border-top: 1px solid var(--border);
}

.reading label {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin-bottom: 0.6rem;
}

.memory a, a.reading-link {
  color: var(--primary-dark);
  text-decoration: underline;
}

.small {
  opacity: 0.85;
  font-size: 0.95rem;
}

/* ðŸŒ™ Dark Mode */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1f26;
    --card: #162c35;
    --border: #24424d;
    --text: #e6f1f4;
    --primary: #5fb7cf;
    --primary-dark: #88cfe1;
  }

  header {
    color: #0f1f26;
  }

  .week summary {
    background: #1e3a44;
  }
}
</style>
</head>

<body>

<header>
  <!-- logo.svg can be added later; leaving this here is safe -->
  <img src="logo.svg" alt="Church Logo" class="logo" onerror="this.style.display='none'">
  <h1>Tune My Heart Bible Narratives Reading Plan</h1>
  <p>52 Weeks Â· 5 Days</p>
</header>

<div class="container">

  <div class="controls">
    <button onclick="resetProgress()">Reset</button>
    <button class="secondary" onclick="exportData()">Export</button>
    <button class="secondary" onclick="importData()">Import</button>
  </div>

  <strong>Year Progress</strong>
  <div class="progress-wrap">
    <div class="progress-bar" id="yearProgress"></div>
  </div>

  <div id="app"></div>
</div>

<script>

const weeks = [
  {
    "title": "Week 1: Creation and Fall",
    "memory": "Genesis 1:1 -In the beginning, God created the heavens and the earth.",
    "catechism": { "q": "Who made you? What else did God make?", "a": "God made me. God made all things." },
    "readings": ["Gen 1:1â€“2:3","Gen 2:4â€“24","Gen 2:25â€“3:24","Gen 4:1â€“16; Prov 1","Gen 6:1â€“8:19"]
  },
  {
    "title": "Week 2: Abraham and Isaac",
    "memory": "Genesis 12:2 -And I will make of you a great nation, and I will bless you and make your name great, so that you will be a blessing.",
    "catechism": { "q": "Why did God make you and all things?", "a": "God made me to glorify him and enjoy him forever." },
    "readings": ["Gen 8:20â€“9:29; 11:1â€“9","Gen 11:26â€“12:20","Gen 13:1â€“14:16","Gen 14:17â€“15:21; 16:1â€“16","Gen 18:1â€“15; 21:1â€“7"]
  },
  {
    "title": "Week 3: Lot",
    "memory": "Psalm 8:1 -O Lord, our Lord, how majestic is your name in all the earth! You have set your glory above the heavens.",
    "catechism": { "q": "How did God make you and all things?", "a": "God made all things out of nothing, by the Word of his power, in the space of six days, and all very good." },
    "readings": ["Gen 18:16â€“19:29","Gen 20; Ps 1","Gen 21:8â€“21; Ps 4â€“5","Ps 6â€“7","Gen 23; Ps 8"]
  },
  {
    "title": "Week 4: A Just God Justifies",
    "memory": "Romans 4:5 -And to the one who does not work but believes in him who justifies the ungodly, his faith is counted as righteousness.",
    "catechism": { "q": "What is special about God's creation of you?", "a": "God made me in his own image." },
    "readings": ["Gen 22:1â€“19; Rom 4","Ps 9â€“10","Gen 24","Prov 2; Gen 25:19â€“34","Gen 26"]
  },
  {
    "title": "Week 5: Trust in the Lord",
    "memory": "Proverbs 3:5â€“6 -Trust in the Lord with all your heart, and do not lean on your own understanding. In all your ways acknowledge him, and he will make straight your paths.",
    "catechism": { "q": "Who is God?", "a": "God is a spirit and does not have a body like man. He is infinite, eternal, and unchangeable." },
    "readings": ["Prov 3","Gen 27","Gen 28:1â€“29:30","Gen 29:31â€“31:3","Gen 31:4â€“55"]
  },
  {
    "title": "Week 6: God's Good Plan",
    "memory": "Genesis 50:20 -As for you, you meant evil against me, but God meant it for good.",
    "catechism": { "q": "What is God like?", "a": "God is the first and best of beings. He is holy, powerful, and good." },
    "readings": ["Gen 32â€“33","Gen 35, 37","Gen 39â€“41","Gen 42â€“43","Gen 44â€“46"]
  },
  {
    "title": "Week 7: God Raises Up a Deliverer",
    "memory": "Psalm 77:11 -I will remember the deeds of the Lord; yes, I will remember your wonders of old",
    "catechism": { "q": "Are there more gods than one?", "a": "There is only one true and living God." },
    "readings": ["Prov 4â€“5","Exod 1:1â€“2:10","Exod 2:11â€“25; Ps 90","Exod 3:1â€“4:18","Exod 4:19â€“31; Ps 77"]
  },
  {
    "title": "Week 8: God Saves His People",
    "memory": "Exodus 15:1 -I will sing to the Lord, for he has triumphed gloriously; the horse and his rider he has thrown into the sea.",
    "catechism": { "q": "In how many persons does this one God exist?", "a": "God exists in three persons: the Father, the Son, and the Holy Spirit, equal in essence, power, and glory." },
    "readings": ["Exod 5:1â€“6:13","Exod 7â€“9","Exod 10â€“12","Exod 13â€“14","Exod 15; Ps 78"]
  },
  {
    "title": "Week 9: Worshiping God at Sinai",
    "memory": "Deuteronomy 6:4â€“5 -Hear, O Israel: The Lord our God, the Lord is one. You shall love the Lord your God with all your heart and with all your soul and with all your might.",
    "catechism": { "q": "What are the decrees of God?", "a": "The decrees of God are his eternal purposes, whereby for his own glory he has ordained whatever comes to pass." },
    "readings": ["Exod 17â€“19","Exod 20; Deut 6","Exod 24, 32","Exod 40","Lev 10:1â€“11; Ps 11"]
  },
  {
    "title": "Week 10: Wandering in the Wilderness",
    "memory": "John 3:14â€“15 -And as Moses lifted up the serpent in the wilderness, so must the Son of Man be lifted up, that whoever believes in him may have eternal life.",
    "catechism": { "q": "How do you know there is a God?", "a": "The light of nature and the works of God plainly declare that there is a God, but only his Word and Spirit effectually reveal him to me for my salvation." },
    "readings": ["Num 11â€“12","Ps 12â€“13","Num 13â€“14","Num 16â€“17","Num 20â€“21"]
  },
  {
    "title": "Week 11: Preparing to Enter the Promised Land",
    "memory": "Joshua 1:8 -This Book of the Law shall not depart from your mouth, but you shall meditate on it day and night, so that you may be careful to do according to all that is written in it. For then you will make your way prosperous, and then you will have good success.",
    "catechism": { "q": "What rule has God given to direct you how you may glorify and enjoy him?", "a": "The Word of God which is contained in the Scriptures of the Old and New Testaments is the only rule to direct me how I many glorify God and enjoy Him." },
    "readings": ["Num 22:1â€“23:12","Ps 14â€“15, 105","Deut 34; Ps 16","Josh 1:1â€“3:6","Josh 3:7â€“5:12"]
  },
  {
    "title": "Week 12: Invasion of the Promised Land",
    "memory": "Job 19:25 -For I know that my Redeemer lives, and at the last he will stand upon the earth.",
    "catechism": { "q": "How can you glorify God?", "a": "I can glorify God by loving him and doing what he commands." },
    "readings": ["Josh 5:13â€“6:27","Josh 7â€“8","Josh 9â€“10","Josh 14, 23â€“24","Job 1, 42; Ps 49"]
  },
  {
    "title": "Week 13: Judges",
    "memory": "Judges 3:9 -But when the people of Israel cried out to the Lord, the Lord raised up a deliverer for the people of Israel, who saved them.",
    "catechism": { "q": "What is the greatest commandment?", "a": "The greatest commandment is to love the Lord my God with all my heart, soul, and mind." },
    "readings": ["Judg 1â€“3","Judg 4â€“5","Judg 6","Judg 7â€“8","Judg 9"]
  },

  /* Weeks 14â€“52 continue below â€” exact reading references and memory references from the PDF */
  // --- GENERATED FROM PDF ---
  {
    "title": "Week 14: Samson",
    "memory": "Psalm 17:8 -Keep me as the apple of your eye; hide me in the shadow of your wings",
    "catechism": { "q": "How can you come to know God and what he has made?", "a": "The fear of the Lord is the beginning of knowledge." },
    "readings": ["Judg 10â€“12","Judg 13","Judg 14","Judg 15â€“16","Ps 17, 35"]
  },
  {
    "title": "Week 15: Ruth and Boaz",
    "memory": "Psalm 19:14 -Let the words of my mouth and the meditation of my heart be acceptable in your sight, O Lord, my rock and my redeemer.",
    "catechism": { "q": "What is sin?", "a": "Sin is any transgression against the law of God." },
    "readings": ["Ps 19â€“20","Prov 6â€“7","Prov 8","Ruth 1â€“2","Ruth 3â€“4"]
  },
  {
    "title": "Week 16: Samuel and Saul",
    "memory": "Luke 1:46-48 -My soul magnifies the Lord, and my spirit rejoices in God my Savior, for he has looked on the humble estate of his servant. For behold, from now on all generations will call me blessed.",
    "catechism": { "q": "Can you keep the law of God perfectly?", "a": "No. I am inclined by nature to hate God and my neighbor." },
    "readings": ["1 Sam 1â€“3","1 Sam 4; Ps 21","1 Sam 5:1â€“7:2","1 Sam 7:3â€“8:22","1 Sam 9â€“10"]
  },
  {
    "title": "Week 17: Saul's Rise and Fall",
    "memory": "1 Samuel 15:22 -Has the Lord as great delight in burnt offerings and sacrifices, as in obeying the voice of the Lord? Behold, to obey is better than sacrifice, and to listen than the fat of rams.",
    "catechism": { "q": "What are the results of sin?", "a": "Because of sin, all mankind lost communion with God and are under his wrath and curse, resulting in the miseries of this life, death itself, and the pains of hell forever." },
    "readings": ["1 Sam 11â€“12","1 Sam 13; Ps 72","1 Sam 14","1 Sam 15; Ps 28","1 Sam 16"]
  },
  {
    "title": "Week 18: David and Saul",
    "memory": "Psalm 18:1-2 -I love you, O Lord, my strength. The Lord is my rock and my fortress and my deliverer, my God, my rock, in whom I take refuge, my shield, and the horn of my salvation, my stronghold.",
    "catechism": { "q": "Is there any way to escape the punishment of God and be again received into communion with him?", "a": "God's justice demands that I make full payment, either through myself or through a Redeemer." },
    "readings": ["1 Sam 17","1 Sam 18; Ps 18","1 Sam 19; Ps 59","1 Sam 20; Ps 52","1 Sam 21â€“22; Ps 34, 56"]
  },
  {
    "title": "Week 19: The Pursuit of David",
    "memory": "2 Samuel 22:2-3 -The Lord is my rock and my fortress and my deliverer, my God, my rock, in whom I take refuge, my shield, and the horn of my salvation, my stronghold and my refuge, my savior; you save me from violence.",
    "catechism": { "q": "What kind of Redeemer must you seek?", "a": "I must seek a Redeemer who is a true and righteous human and who is at the same time true God." },
    "readings": ["1 Sam 23; Ps 54","1 Sam 24; Ps 57","1 Sam 25; Ps 41","1 Sam 26; Ps 63","1 Sam 27â€“31"]
  },
  {
    "title": "Week 20: David Becomes King",
    "memory": "Psalm 20:7 -Some trust in chariots and some in horses, but we trust in the name of the LORD our God.",
    "catechism": { "q": "Why must the Redeemer be a true and righteous human?", "a": "The Redeemer must be a true and righteous human because the justice of God requires that only one with a human nature who has not sinned may pay for my sin." },
    "readings": ["2 Sam 1; Ps 31","2 Sam 2â€“3","2 Sam 4â€“5; Ps 32","2 Sam 6; Ps 33","2 Sam 7â€“8"]
  },
];

// =======================
// RENDERING
// =======================
const app = document.getElementById("app");

function updateProgress() {
  let total = weeks.length * 5;
  let checked = 0;

  weeks.forEach((w, wi) => {
    w.readings.forEach((_, di) => {
      if (localStorage.getItem(`w${wi}d${di}`) === "true") checked++;
    });
  });

  document.getElementById("yearProgress").style.width =
    Math.round((checked / total) * 100) + "%";
}

weeks.forEach((week, wi) => {
  const details = document.createElement("details");
  details.className = "week";

  const summary = document.createElement("summary");
  summary.textContent = week.title;
  details.appendChild(summary);

  // Memory verse reference (link out)
  const memory = document.createElement("div");
  memory.className = "section memory";
  const memLink = document.createElement("a");
  memLink.href = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(week.memory)}&version=ESV`;
  memLink.target = "_blank";
  memLink.textContent = week.memory;
  memory.innerHTML = "<strong>Memory Verse:</strong> ";
  memory.appendChild(memLink);
  details.appendChild(memory);

  // Catechism reference only
  const catechism = document.createElement("div");
  catechism.className = "section catechism";
  catechism.innerHTML = `<strong>${week.catechism.q}</strong><div class="small">${week.catechism.a}</div>`;
  details.appendChild(catechism);

  const readings = document.createElement("div");
  readings.className = "section reading";

  week.readings.forEach((text, di) => {
    const key = `w${wi}d${di}`;
    const label = document.createElement("label");

    const cb = document.createElement("input");
    cb.type = "checkbox";
    cb.checked = localStorage.getItem(key) === "true";
    cb.onchange = () => {
      localStorage.setItem(key, cb.checked);
      updateProgress();
    };

    const link = document.createElement("a");
    link.className = "reading-link";
    link.href = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(text)}&version=ESV`;
    link.target = "_blank";
    link.textContent = text;

    label.appendChild(cb);
    label.appendChild(link);
    readings.appendChild(label);
  });

  details.appendChild(readings);
  app.appendChild(details);
});

function resetProgress() {
  if (!confirm("Reset all progress?")) return;
  localStorage.clear();
  location.reload();
}

function exportData() {
  prompt("Copy your backup data:", JSON.stringify(localStorage));
}

function importData() {
  const data = prompt("Paste backup data:");
  if (!data) return;
  const obj = JSON.parse(data);
  Object.keys(obj).forEach(k => localStorage.setItem(k, obj[k]));
  location.reload();
}

updateProgress();
</script>

</body>
</html>
