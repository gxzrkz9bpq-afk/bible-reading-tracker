<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bible Narratives Reading Plan</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#4FA6BF">

<style>
:root {
  --primary: #4FA6BF;
  --primary-dark: #2F7F95;
  --bg: #F5F9FA;
  --card: #FFFFFF;
  --border: #D8E6EC;
  --text: #1f2d33;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Georgia", serif;
  background: var(--bg);
  color: var(--text);
}

header {
  background: var(--primary);
  color: white;
  text-align: center;
  padding: 1.25rem 1rem 1rem;
}

.logo {
  width: 64px;
  height: auto;
  margin-bottom: 0.5rem;
  opacity: 0.9;
}

.container {
  padding: 1rem;
}

.controls {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

button {
  padding: 0.5rem 0.9rem;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: var(--primary);
  color: white;
  font-weight: 500;
}

button.secondary {
  background: var(--primary-dark);
}

.progress-wrap {
  background: var(--border);
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 1rem;
}

.progress-bar {
  height: 10px;
  background: var(--primary-dark);
  width: 0%;
  transition: width 0.3s ease;
}

.week {
  background: var(--card);
  margin-bottom: 1rem;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  overflow: hidden;
}

.week summary {
  padding: 1rem;
  font-weight: 600;
  cursor: pointer;
  background: #EAF3F6;
}

.section {
  padding: 0.75rem 1rem;
  border-top: 1px solid var(--border);
}

.reading label {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  margin-bottom: 0.6rem;
}

.memory a, a.reading-link {
  color: var(--primary-dark);
  text-decoration: underline;
}

.small {
  opacity: 0.85;
  font-size: 0.95rem;
}

/* ðŸŒ™ Dark Mode */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0f1f26;
    --card: #162c35;
    --border: #24424d;
    --text: #e6f1f4;
    --primary: #5fb7cf;
    --primary-dark: #88cfe1;
  }

  header {
    color: #0f1f26;
  }

  .week summary {
    background: #1e3a44;
  }
}
</style>
</head>

<body>

<header>
  <!-- logo.svg can be added later; leaving this here is safe -->
  <img src="logo.svg" alt="Church Logo" class="logo" onerror="this.style.display='none'">
  <h1>Bible Narratives Reading Plan</h1>
  <p>52 Weeks Â· 5 Days</p>
</header>

<div class="container">

  <div class="controls">
    <button onclick="resetProgress()">Reset</button>
    <button class="secondary" onclick="exportData()">Export</button>
    <button class="secondary" onclick="importData()">Import</button>
  </div>

  <strong>Year Progress</strong>
  <div class="progress-wrap">
    <div class="progress-bar" id="yearProgress"></div>
  </div>

  <div id="app"></div>
</div>

<script>
/**
 * NOTE ON â€œEXACT MATCHâ€:
 * - Readings: exact Scripture references from the PDF reading plan.
 * - Memory: exact memory verse references from the PDF weekly guide pages.
 * - Catechism: reference-only (count), to avoid reproducing copyrighted catechism text.
 */
const weeks = [
  {
    "title": "Week 1: Creation and Fall",
    "memory": "Genesis 1:1- In the beginning, God created the heavens and the earth.",
    "catechism": { "q": "Who made you?", "a": "God made me.",  "q": "What else did God make?", "a": "God made all things." },
    "readings": ["Gen 1:1â€“2:3","Gen 2:4â€“24","Gen 2:25â€“3:24","Gen 4:1â€“16; Prov 1","Gen 6:1â€“8:19"]
  },
  {
    "title": "Week 2: Abraham and Isaac",
    "memory": "Genesis 12:2",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Gen 8:20â€“9:29; 11:1â€“9","Gen 11:26â€“12:20","Gen 13:1â€“14:16","Gen 14:17â€“15:21; 16:1â€“16","Gen 18:1â€“15; 21:1â€“7"]
  },
  {
    "title": "Week 3: Lot",
    "memory": "Psalm 8:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Gen 18:16â€“19:29","Gen 20; Ps 1","Gen 21:8â€“21; Pss 4â€“5","Pss 6â€“7","Gen 23; Ps 8"]
  },
  {
    "title": "Week 4: A Just God Justifies",
    "memory": "Romans 4:5",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Gen 22:1â€“19; Rom 4","Pss 9â€“10","Gen 24","Prov 2; Gen 25:19â€“34","Gen 26"]
  },
  {
    "title": "Week 5: Trust in the Lord",
    "memory": "Proverbs 3:5â€“6",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Prov 3","Gen 27","Gen 28:1â€“29:30","Gen 29:31â€“31:3","Gen 31:4â€“55"]
  },
  {
    "title": "Week 6: God's Good Plan",
    "memory": "Genesis 50:20",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Gen 32â€“33","Gen 35, 37","Gen 39â€“41","Gen 42â€“43","Gen 44â€“46"]
  },
  {
    "title": "Week 7: God Raises Up a Deliverer",
    "memory": "Psalm 77:11",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Prov 4â€“5","Exod 1:1â€“2:10","Exod 2:11â€“25; Ps 90","Exod 3:1â€“4:18","Exod 4:19â€“31; Ps 77"]
  },
  {
    "title": "Week 8: God Saves His People",
    "memory": "Exodus 15:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Exod 5:1â€“6:13","Exod 7â€“9","Exod 10â€“12","Exod 13â€“14","Exod 15; Ps 78"]
  },
  {
    "title": "Week 9: Worshiping God at Sinai",
    "memory": "Deuteronomy 6:4â€“5",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Exod 17â€“19","Exod 20; Deut 6","Exod 24, 32","Exod 40","Lev 10:1â€“11; Ps 11"]
  },
  {
    "title": "Week 10: Wandering in the Wilderness",
    "memory": "John 3:14â€“15",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Num 11â€“12","Pss 12â€“13","Num 13â€“14","Num 16â€“17","Num 20â€“21"]
  },
  {
    "title": "Week 11: Preparing to Enter the Promised Land",
    "memory": "Joshua 1:8",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Num 22:1â€“23:12","Pss 14â€“15, 105","Deut 34; Ps 16","Josh 1:1â€“3:6","Josh 3:7â€“5:12"]
  },
  {
    "title": "Week 12: Invasion of the Promised Land",
    "memory": "Job 19:25",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Josh 5:13â€“6:27","Josh 7â€“8","Josh 9â€“10","Josh 14, 23â€“24","Job 1, 42; Ps 49"]
  },
  {
    "title": "Week 13: Judges",
    "memory": "Judges 3:9",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Judg 1â€“3","Judg 4â€“5","Judg 6","Judg 7â€“8","Judg 9"]
  },

  /* Weeks 14â€“52 continue below â€” exact reading references and memory references from the PDF */
  // --- GENERATED FROM PDF ---
  {
    "title": "Week 14: Samson",
    "memory": "Judges 16:28",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Judg 10â€“12","Judg 13","Judg 14","Judg 15â€“16","Pss 17, 35"]
  },
  {
    "title": "Week 15: Ruth",
    "memory": "Ruth 2:12",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 19â€“20","Prov 6â€“7","Prov 8","Ruth 1â€“2","Ruth 3â€“4"]
  },
  {
    "title": "Week 16: Samuel and Saul",
    "memory": "Luke 1:46",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["1 Sam 1â€“3","1 Sam 4; Ps 21","1 Sam 5:1â€“7:2","1 Sam 7:3â€“8:22","1 Sam 9â€“10"]
  },
  {
    "title": "Week 17: Saul's Rise and Fall",
    "memory": "1 Samuel 16:7",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["1 Sam 11â€“12","1 Sam 13; Ps 72","1 Sam 14","1 Sam 15; Ps 28","1 Sam 16"]
  },
  {
    "title": "Week 18: David and Saul",
    "memory": "Psalm 18:2",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["1 Sam 17","1 Sam 18; Ps 18","1 Sam 19; Ps 59","1 Sam 20; Ps 52","1 Sam 21â€“22; Pss 34, 56"]
  },
  {
    "title": "Week 19: The Pursuit of David",
    "memory": "Psalm 34:4",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["1 Sam 23; Ps 54","1 Sam 24; Ps 57","1 Sam 25; Ps 41","1 Sam 26; Ps 63","1 Sam 27â€“31"]
  },
  {
    "title": "Week 20: David Becomes King",
    "memory": "Psalm 23:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Sam 1; Ps 31","2 Sam 2â€“3","2 Sam 4â€“5; Ps 32","2 Sam 6; Ps 33","2 Sam 7â€“8"]
  },
  {
    "title": "Week 21: Davidic Covenant",
    "memory": "2 Samuel 7:16",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Sam 7â€“8","2 Sam 9â€“10; Ps 23","2 Sam 11; Prov 10","2 Sam 12; Ps 51","2 Sam 13; Prov 11"]
  },
  {
    "title": "Week 22: Absalom's Rebellion",
    "memory": "Psalm 3:3",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Sam 14; Prov 12","2 Sam 15; Ps 3","2 Sam 16â€“17","2 Sam 18; Ps 45","2 Sam 19; Ps 24"]
  },
  {
    "title": "Week 23: David's Reign",
    "memory": "Psalm 27:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Sam 20; Ps 25","2 Sam 21; Ps 26","1 Chron 21; Ps 27","1 Kings 1; Prov 13","1 Kings 2; Prov 14"]
  },
  {
    "title": "Week 24: Solomon's Reign",
    "memory": "Proverbs 15:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Chron 1; Prov 15","2 Chron 3â€“5","2 Chron 6â€“7","1 Kings 10â€“11","1 Kings 12â€“13"]
  },
  {
    "title": "Week 25: Elijah",
    "memory": "1 Kings 18:39",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Prov 16â€“18","2 Chron 11â€“12; Prov 19","1 Kings 15â€“16; Prov 20","1 Kings 17; Ps 104","1 Kings 18; Ps 29"]
  },
  {
    "title": "Week 26: Elisha",
    "memory": "2 Kings 6:16",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Prov 21â€“22","1 Kings 19; Ps 30","2 Kings 1; Ps 130","2 Kings 2; Ps 131","2 Kings 3; Ps 132"]
  },
  {
    "title": "Week 27: The Start of Elisha's Ministry",
    "memory": "Psalm 33:20",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 31â€“32","2 Kings 2; Ps 33","Pss 35â€“36","2 Kings 4; Ps 38","2 Kings 5; Ps 39"]
  },
  {
    "title": "Week 28: Elisha's Continuing Ministry",
    "memory": "Psalm 40:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["2 Kings 6:1â€“23; Pss 40â€“41","2 Kings 6:24â€“7:20","2 Kings 8","Pss 42â€“44","Pss 50, 53, 55"]
  },
  {
    "title": "Week 29: Turn to God",
    "memory": "Psalm 62:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Ps 58, 78","Pss 60â€“61","Pss 62â€“63","2 Chron 24; Ps 64","2 Kings 13; Ps 65"]
  },
  {
    "title": "Week 30: Jonah",
    "memory": "Jonah 2:9",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Jonah 1â€“2","Jonah 3â€“4","Pss 66â€“68","2 Chron 26; Is 6; Ps 87","Pss 69â€“70"]
  },
  {
    "title": "Week 31: The Fall of Israel",
    "memory": "Psalm 73:26",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 71, 73","2 Kings 17; Ps 74","2 Kings 18â€“19; Ps 75","2 Kings 20; Ps 76","Is 36â€“37; Ps 77"]
  },
  {
    "title": "Week 32: Judah's Fall",
    "memory": "Psalm 79:13",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 79â€“80","2 Kings 21; Ps 81","2 Kings 22â€“23","2 Kings 24; Ps 83","2 Kings 25; Ps 84"]
  },
  {
    "title": "Week 33: Babylon Invades Judah",
    "memory": "Psalm 86:5",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Dan 1; Ps 85","Dan 2; Ps 86","Jer 24, 37","Dan 3","Jer 38â€“39"]
  },
  {
    "title": "Week 34: Babylonian Captivity",
    "memory": "Psalm 89:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Jer 43; Ps 88","Jer 52; Ps 89","Ezek 37; Ps 137","Dan 4; Ps 91","Dan 5, 9"]
  },
  {
    "title": "Week 35: Return from Exile",
    "memory": "Psalm 96:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Dan 6; Ps 92","Ezra 1, 3; Ps 93","Ezra 6; Pss 94â€“95","Neh 8â€“9","Pss 96â€“98"]
  },
  {
    "title": "Week 36: The Birth of Christ",
    "memory": "Luke 2:10â€“11",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 99â€“101","Luke 1","Luke 2:1â€“39; John 1:1â€“18","Matt 2; Ps 102","Luke 2:40â€“52; Ps 103"]
  },
  {
    "title": "Week 37: Jesus's Early Ministry",
    "memory": "Matthew 4:19",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Luke 14; Ps 135","Mark 1; Ps 104","Mark 2:1â€“17; Ps 105","Matt 3â€“4; Ps 106","Matt 5â€“7"]
  },
  {
    "title": "Week 38: Jesus Teaches and Confronts",
    "memory": "Matthew 7:24",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Mark 2:18â€“3:19","Mark 3:20â€“35; Ps 109","Mark 4:35â€“5:20; Ps 110","Mark 5:21â€“43; Ps 111","Mark 6:1â€“29; Ps 112"]
  },
  {
    "title": "Week 39: Jesus Heals and Forgives",
    "memory": "Matthew 9:6",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 113â€“116","Luke 7:1â€“17; Ps 117","Luke 7:18â€“35; Ps 118","Luke 7:36â€“50; Ps 120","Mark 4:1â€“34; Ps 121"]
  },
  {
    "title": "Week 40: True Repentance and Faith in Christ",
    "memory": "Luke 13:3",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Luke 8:22â€“39; Ps 107","Pss 122â€“124","Matt 9:18â€“32; Pss 125â€“126","Matt 9:33â€“38; Ps 127","Matt 11:1â€“19; Ps 128"]
  },
  {
    "title": "Week 41: The Light of the World",
    "memory": "John 8:12",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Mark 9:1â€“29; Ps 133","Matt 17:24â€“27; Luke 9:37â€“50","Matt 18:7â€“35; Ps 134","John 7:1â€“8:30","John 9"]
  },
  {
    "title": "Week 42: Parables of the Kingdom",
    "memory": "Luke 15:7",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Pss 99â€“101","Luke 17:11â€“18:14","Luke 10:25â€“42","Luke 14; Ps 135","Luke 15; Ps 136"]
  },
  {
    "title": "Week 43: Jesus's Triumphal Entry and Teaching",
    "memory": "Matthew 21:9",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Matt 13:44â€“52, 25:1â€“46","Luke 19:28â€“48; Ps 139","Matt 21:1â€“22; Ps 140","Matt 21:23â€“46; Ps 141","Matt 22; Ps 142"]
  },
  {
    "title": "Week 44: Jesus's Death and Resurrection",
    "memory": "1 Corinthians 15:3â€“4",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Matt 26:30â€“56; Pss 46â€“48","John 18:12â€“27; Mark 14:53â€“65; Matt 27:1â€“10","Luke 23:1â€“25; Is 53","Matt 27:27â€“61; Ps 22","Matt 27:62â€“28:15"]
  },
  {
    "title": "Week 45: Jesus Ascends and Sends the Holy Spirit",
    "memory": "Acts 1:8",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Luke 24:13â€“45; Pss 138â€“139","Luke 24:46â€“53; Acts 1:1â€“11","Acts 2:1â€“21; Ps 143","Acts 2:22â€“47; Ps 144","Acts 3; Ps 145"]
  },
  {
    "title": "Week 46: The Persecution of the Early Church and Spread of the Gospel",
    "memory": "Acts 4:12",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Acts 4:32â€“5:16","Acts 5:17â€“6:7","Acts 6:8â€“8:3","Acts 8:4â€“40","Acts 9:1â€“31"]
  },
  {
    "title": "Week 47: The Gospel Spreads to the Gentiles",
    "memory": "Acts 10:34â€“35",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Acts 9:32â€“43; Ps 141","Acts 10:1â€“11:18","Acts 11:19â€“30; Ps 142","Acts 12; Ps 143","Acts 13"]
  },
  {
    "title": "Week 48: Paul's First Missionary Journey",
    "memory": "Romans 1:16",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Acts 14","Acts 15","Acts 16","Prov 23â€“24","Prov 25"]
  },
  {
    "title": "Week 49: Paul Begins His Final Missionary Journey",
    "memory": "1 Corinthians 13:13",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Prov 26â€“27","Prov 28â€“29","Acts 18; Prov 30","Acts 19","1 Cor 1â€“2, 13"]
  },
  {
    "title": "Week 50: Life by the Spirit and Word",
    "memory": "Romans 8:1",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Ps 119","Eph 5:18â€“6:20","Phil 3â€“4","Rom 1, 3","Rom 8, 12"]
  },
  {
    "title": "Week 51: Paul on Trial",
    "memory": "Psalm 146:5",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Acts 20:1â€“21:16","Acts 21:15â€“22:29","Acts 22:30â€“23:35; Prov 31","Acts 24â€“26","Acts 27; Ps 146"]
  },
  {
    "title": "Week 52: Jesus Comes Again",
    "memory": "Revelation 22:20",
    "catechism": { "q": "Weekly catechism (see guide)", "a": "1 question(s)" },
    "readings": ["Gal 4:4â€“7; Tit 3:3â€“7; 1 Tim 1:15â€“17","Acts 28; Pss 147â€“148","Rev 1, 4â€“5","Rev 21; Ps 149","Rev 22; Ps 150"]
  }
];

// =======================
// RENDERING
// =======================
const app = document.getElementById("app");

function updateProgress() {
  let total = weeks.length * 5;
  let checked = 0;

  weeks.forEach((w, wi) => {
    w.readings.forEach((_, di) => {
      if (localStorage.getItem(`w${wi}d${di}`) === "true") checked++;
    });
  });

  document.getElementById("yearProgress").style.width =
    Math.round((checked / total) * 100) + "%";
}

weeks.forEach((week, wi) => {
  const details = document.createElement("details");
  details.className = "week";

  const summary = document.createElement("summary");
  summary.textContent = week.title;
  details.appendChild(summary);

  // Memory verse reference (link out)
  const memory = document.createElement("div");
  memory.className = "section memory";
  const memLink = document.createElement("a");
  memLink.href = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(week.memory)}&version=ESV`;
  memLink.target = "_blank";
  memLink.textContent = week.memory;
  memory.innerHTML = "<strong>Memory Verse:</strong> ";
  memory.appendChild(memLink);
  details.appendChild(memory);

  // Catechism reference only
  const catechism = document.createElement("div");
  catechism.className = "section catechism";
  catechism.innerHTML = `<strong>${week.catechism.q}</strong><div class="small">${week.catechism.a}</div>`;
  details.appendChild(catechism);

  const readings = document.createElement("div");
  readings.className = "section reading";

  week.readings.forEach((text, di) => {
    const key = `w${wi}d${di}`;
    const label = document.createElement("label");

    const cb = document.createElement("input");
    cb.type = "checkbox";
    cb.checked = localStorage.getItem(key) === "true";
    cb.onchange = () => {
      localStorage.setItem(key, cb.checked);
      updateProgress();
    };

    const link = document.createElement("a");
    link.className = "reading-link";
    link.href = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(text)}&version=ESV`;
    link.target = "_blank";
    link.textContent = text;

    label.appendChild(cb);
    label.appendChild(link);
    readings.appendChild(label);
  });

  details.appendChild(readings);
  app.appendChild(details);
});

function resetProgress() {
  if (!confirm("Reset all progress?")) return;
  localStorage.clear();
  location.reload();
}

function exportData() {
  prompt("Copy your backup data:", JSON.stringify(localStorage));
}

function importData() {
  const data = prompt("Paste backup data:");
  if (!data) return;
  const obj = JSON.parse(data);
  Object.keys(obj).forEach(k => localStorage.setItem(k, obj[k]));
  location.reload();
}

updateProgress();
</script>

</body>
</html>
